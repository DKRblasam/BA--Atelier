---
// src/components/AnimatedMenuItem.astro
interface Props {
  text: string;
  href?: string;
  class?: string;
}

const { text, href = "#", class: className = "" } = Astro.props;
---

<a href={href} class:list={["animated-menu-item", className]}>
  <span class="text-container">
    <span class="text top">{text}</span>
    <span class="text bottom">{text}</span>
  </span>
</a>

<style>
  .animated-menu-item {
    display: inline-block;
    position: relative;
    text-decoration: none;
    font-weight: 500;
    font-size: 1.125rem;
    line-height: 1.2;
    cursor: pointer;
    /* Responsivo */
    font-size: clamp(1rem, 2.5vw, 1.125rem);
  }

  .text-container {
    position: relative;
    display: block;
    overflow: hidden;
    height: 1.35em; /* Altura fija para contener el texto */
  }

  .text {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    transition:
      transform 0.3s ease,
      color 0.3s ease;
    white-space: nowrap;
  }

  .text.top {
    color: #ffffff;
    transform: translateY(0);
  }

  .text.bottom {
    color: #00ffd5;
    transform: translateY(100%);
  }

  /* Animación en hover */
  .animated-menu-item:hover .text.top {
    transform: translateY(-100%);
    color: #00ffd5;
  }

  .animated-menu-item:hover .text.bottom {
    transform: translateY(0);
    color: #00ffd5;
  }

  /* Mejoras de rendimiento */
  .text {
    will-change: transform, color;
    backface-visibility: hidden;
  }

  /* Estados adicionales para mejor UX */
  .animated-menu-item:focus {
    outline: none;
  }

  .animated-menu-item:focus .text.top {
    transform: translateY(-100%);
    color: #00ffd5;
  }

  .animated-menu-item:focus .text.bottom {
    transform: translateY(0);
    color: #00ffd5;
  }

  /* Responsivo - ajustes para móvil */
  @media (max-width: 768px) {
    .animated-menu-item {
      font-size: 1rem;
    }

    .text-container {
      height: 1.5em;
    }
  }
</style>
